<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.gh.personinfo.dao.CompanyDao">
    <!--auto generated Code-->

    <!-- resultMap映射 -->
    <resultMap type="com.gh.personinfo.model.Company" id="companyRM">
        <!-- 主键 -->
        <id property="id" column="id" jdbcType="VARCHAR" />
        <!-- 一般属性 -->
        <result property="name" column="name"/>
        <result property="scale" column="scale" />
        <result property="number" column="number"/>
        <result property="requirements" column="requirements"/>
        <result property="contactName" column="contact_name"/>
        <result property="contactPhone" column="contact_phone"/>
        <result property="address" column="address"/>
        <association property="industry" column="industry" javaType="com.gh.personinfo.model.Industry">
            <id property="id" column="id"/>
            <result property="name" column="name"/>
            <result property="status" column="status"/>
        </association>
        <association property="position" column="position" javaType="com.gh.personinfo.model.Position">
            <id property="id" column="id"/>
            <result property="name" column="name"/>
            <result property="status" column="status"/>
        </association>
    </resultMap>

    <!-- 查询 -->
<!--    <select id="find" parameterType="java.util.HashMap" resultMap="companyRM">
        select * from company
        where 1=1
        <include refid="query_commodities_where"></include>&lt;!&ndash; sql片段引入 &ndash;&gt;
        <if test="startPage != null and pageSize != null">LIMIT #{startPage},#{pageSize}</if>
    </select>-->
    <!--查询一个-->
    <select id="get" parameterType="string" resultMap="companyRM">
		select * from company c,industry i,position p
		where c.position = p.id AND c.industry = i.id and c.id = #{id}
	</select>

</mapper>

